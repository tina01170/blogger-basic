<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <style>
      .anchor-wrap {margin-top:50px; border:1px solid #ccc; padding:15px; width:300px; overflow:hidden;}
      .anchor-title { font-size:18px;  }
      .anchor-text { float:right; border:none; background:transparent; font-size:18px; cursor:pointer; }
      .anchor-wrap #top  {margin-top:25px; }
      #top li a { text-decoration:none; color:$(title.color); font-size:18px; }
      #top ul,#top ul ul { padding-left:20px; margin:10px 0;  }
      </style>
  </head>
  <body>
    <script type='text/javascript'>
      /*! Table of Contents | v0.4.0 - https://github.com/ndabas/toc */
      !function(t){"use strict";var n=function(n){return this.each(function(){var e,i,a=t(this),o=a.data(),c=[a],r=this.tagName,d=0;e=t.extend({content:"body",headings:"h1,h2,h3"},{content:o.toc||void 0,headings:o.tocHeadings||void 0},n),i=e.headings.split(","),t(e.content).find(e.headings).attr("id",function(n,e){return e||function(t){0===t.length&&(t="?");for(var n=t.replace(/\s+/g,"_"),e="",i=1;null!==document.getElementById(n+e);)e="_"+i++;return n+e}(t(this).text())}).each(function(){var n=t(this),e=t.map(i,function(t,e){return n.is(t)?e:void 0})[0];if(e>d){var a=c[0].children("li:last")[0];a&&c.unshift(t("<"+r+"/>").appendTo(a))}else c.splice(0,Math.min(d-e,Math.max(c.length-1,0)));t("<li/>").appendTo(c[0]).append(t("<a/>").text(n.text()).attr("href","#"+n.attr("id"))),d=e})})},e=t.fn.toc;t.fn.toc=n,t.fn.toc.noConflict=function(){return t.fn.toc=e,this},t(function(){n.call(t("[data-toc]"))})}(window.jQuery);
    
    </script>
  
    <script>
      $(".post-body").each(function() {
          var $head = $('.post-body h1,.post-body h2, .post-body h3, .post-body h4');
          var $wrap =  $('<div class="anchor-wrap"><div class="list-inner"><span class="anchor-title">目錄</span><button class="anchor-text">顯示</button</div>');
          if ($head .length > 0) { 
                var $top = '<ul id="top"></ul>';
            $wrap.append($top);
                $('.separator').after($wrap);          

                $("#top").toc({content: ".post-body", headings: "h2,h3,h4"}); 
          }
          $('#top li a').on('click', function() {
                var link_id = $(this).attr('href');            
                var $anchor =  $(link_id);            
                if ($anchor.length) {            
                  $('html, body').animate({
                      scrollTop: $anchor.offset().top - 70
                    }, 1000);
                    return false;				
                }
            });
          $(".anchor-text").each(function(e) {
              (e = $(this)).on("click", function() {
                    $("#top").slideToggle(1000);
                })
            })
      });
    
    </script>
    

    
   
  </body>
</html>