<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <style>
      .banner .HTML .widget-content { display:none; }
      .banner .show-slider .widget-content {display:block!important; overflow:hidden;}
      .loader{position:relative;height:180px;overflow:hidden;display:block}
      .loader:after{content:'';position:absolute;top:50%;left:50%;width:26px;height:26px;margin:-16px 0 0 -16px;border:3px solid #ddd;border-right-color:$(main.color);border-radius:100%;animation:spinner .8s infinite linear;transform-origin:center}
      @-webkit-keyframes spinner {
          0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}
          to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}
      }
      @keyframes spinner {
          0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}
          to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}
      }


    </style>
  </head>
  <body>
  <script>
      function Posts($this, type, count, label) {
        //console.log($this, type, count, label);
          if ( type.match('hot') || type.match('list') ||type.match('related')) {
          var url = '';
            if (label == 'recent') {
                url = '/feeds/posts/default?alt=json-in-script&max-results=' + count;
              } else {
                url = '/feeds/posts/default/-/' + label + '?alt=json-in-script&max-results=' + count;
              }
              $.ajax({
                      url: url,
                      type: 'get',
                      dataType: 'jsonp',
                      beforeSend:function() {
                        if (type.match('hot')) {
                            $this.html('<div class="loader"/>').parent().addClass('show-slider');            
                        }  else if (type.match('list')) {
                            $this.html('<div class="loader"/>').parent().addClass('show-list');
                        }
                      },
                      success: function(json) {
                  if (type.match('hot')) {
                              var code = '<ul id="slider-wrap" class="slider-wrap owl-carousel owl-theme">';
                          } else if (type.match('list')) {
                  var code = '<ul class="custom-widget">';
                          } else if (type.match('related')) {
                              var code = '<ul class="related-posts">';
                          }
                var entry = json.feed.entry;
                          if (entry != undefined) {
                  for (var i = 0,feed = entry;i < entry.length; i++) {
                    var link = l(feed,i);
                                  var title = t(feed,i);
                                  var date = e(feed, i);
                                  var	image = g(feed,i,title);
                    var tag = p(feed, i);
                    var content = '';

                      if (type.match('hot')) {
                                      content += '<li class="slider-item">' + image + '<div class="post-info"><h3><a href="' + link + '">' + title +'</a></h3>'+ date +'</div></li>';
                                  } else if (type.match('list')) {                           
                      content += '<li class="recent-item">' + image + '<div class="post-info"><h3><a href="' + link + '">' + title +'</a></h3>'+ date +'</div></li>';
                                  } else if (type.match('related')) {
                                      content += '<li class="related-item">' + image + '<div class="post-info"><h3><a href="' + link + '">' + title + '</a></h3>'+ date +'</div></li>';
                                  }                                                
                                  code += content;                           
                  }
                              code += '</ul>';     	
                          } else {
                              code = '<ul class="no-posts">No Posts Found</ul>';
                          } if (type.match('hot')) {
                              $this.html(code).parent().addClass('show-slider');			
                  $("#slider-wrap").owlCarousel({
                                  loop: true, 
                                  margin:15, 
                                  nav: true, 
                                  dots:false,  // dont's change
                                  autoplay: true,  // Automatic play(true or false)
                                  autoplayTimeout: 2000, // time
                                  autoplayHoverPause: true,  // Mouse over pause(true or false)
                                  responsive: {
                                    0: {
                                        items: 1  
                                    },
                      820: {
                                        items: 2  
                                    }
                                  }
                              })
              
                          } else {
                              $this.html(code);
                          }
                          
              }
              });
          }
      }    
  </script>  

    
   
  </body>
</html>