<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <style>
    </style>
  </head>
  <body>
  <script>
      function l(feed,i){
        for (var k = 0; k < feed[i].link.length; k++) {
          if (feed[i].link[k].rel == 'alternate') {
                link = feed[i].link[k].href;
                break;
              }                           
        }
        return link;
      }
      function t(feed,i){
        return feed[i].title.$t;
      }
      function e(feed, i) {
        var d = feed[i].published.$t, y = d.substring(0, 4), m = d.substring(5, 7), a = d.substring(8, 10);	
        var h = monthFormat[parseInt(m, 10) - 1] + "/" + a + ", " + y;
        return '<span class="post-date">'+ monthFormat[parseInt(m, 10) - 1] + "/" + a + ", " + y +'</span>';	
      }
      function p(feed, i) { 
        if (feed[i].category != undefined) {
          var tag = feed[i].category[0].term;
          code = '<span class="post-tag">' + tag + '</span>';
        } else {
          code = '';
        }
        return code;	
      }
      function g(feed,i,title) {
        var recenthumb;
          try {
            recenthumb = feed.media$thumbnail.replace("/s72-c","/w640");
            // entry.media$thumbnail.replace(/\/s72\-c\//,'/s400/');
          } catch (error) {
            s = feed[i].content.$t;
            a = s.indexOf("<img");
            b = s.indexOf("src=\"", a);
            c = s.indexOf("\"", b + 5);
            d = s.substr(b + 5, c - b - 5);
            if ((a != -1) && (b != -1) && (c != -1) && (d != "")) {
                recenthumb = d;
            } else recenthumb = 'https://4.bp.blogspot.com/-O3EpVMWcoKw/WxY6-6I4--I/AAAAAAAAB2s/KzC0FqUQtkMdw7VzT6oOR_8vbZO6EJc-ACK4BGAYYCw/w680/nth.png';
            }
        var postImageUrl = recenthumb;
        var posterImage = postImageUrl ? '<a class="post-image-link" href="'+ link +'"><img class="post-thumb" src="' + postImageUrl + '" alt="' + title + '"></a>' : ''; 	
        return posterImage;
      }		
      function Posts($this, type, count, label) {
        //console.log($this, type, count, label);
          if ( type.match('hot') || type.match('list') ||type.match('related')) {
          var url = '';
            if (label == 'recent') {
                url = '/feeds/posts/default?alt=json-in-script&max-results=' + count;
              } else {
                url = '/feeds/posts/default/-/' + label + '?alt=json-in-script&max-results=' + count;
              }
              $.ajax({
                      url: url,
                      type: 'get',
                      dataType: 'jsonp',
                      beforeSend:function() {
                        if (type.match('hot')) {
                          $this.html('<div class="loader"/>').parent().addClass('show-slider');            
                        }  else if (type.match('list')) {
                            $this.html('<div class="loader"/>').parent().addClass('show-list');
                        }
                      },
                      success: function(json) {
                  if (type.match('hot')) {
                              var code = '<ul id="slider-wrap" class="slider-wrap owl-carousel owl-theme">';
                          } else if (type.match('list')) {
                  var code = '<ul class="custom-widget">';
                          } else if (type.match('related')) {
                              var code = '<ul class="related-posts">';
                          }
                var entry = json.feed.entry;
                          if (entry != undefined) {
                  for (var i = 0,feed = entry;i < entry.length; i++) {
                    var link = l(feed,i);
                                  var title = t(feed,i);
                                  var date = e(feed, i);
                                  var	image = g(feed,i,title);
                    var tag = p(feed, i);
                    var content = '';

                      if (type.match('hot')) {
                                      content += '<li class="slider-item">' + image + '<div class="post-info"><h3><a href="' + link + '">' + title +'</a></h3>'+ date +'</div></li>';
                                  } else if (type.match('list')) {                           
                      content += '<li class="recent-item">' + image + '<div class="post-info"><h3><a href="' + link + '">' + title +'</a></h3>'+ date +'</div></li>';
                                  } else if (type.match('related')) {
                                      content += '<li class="related-item">' + image + '<div class="post-info"><h3><a href="' + link + '">' + title + '</a></h3>'+ date +'</div></li>';
                                  }                                                
                                  code += content;                           
                  }
                              code += '</ul>';     	
                          } else {
                              code = '<ul class="no-posts">No Posts Found</ul>';
                          } if (type.match('hot')) {
                              $this.html(code).parent().addClass('show-slider');			
                  $("#slider-wrap").owlCarousel({
                                  loop: true, 
                                  margin:15, 
                                  nav: true, 
                                  dots:false,  // dont's change
                                  autoplay: true,  // Automatic play(true or false)
                                  autoplayTimeout: 2000, // time
                                  autoplayHoverPause: true,  // Mouse over pause(true or false)
                                  responsive: {
                                    0: {
                                        items: 1  
                                    },
                      820: {
                                        items: 2  
                                    }
                                  }
                              })
              
                          } else {
                              $this.html(code);
                          }
                          
              }
              });
          }
      }
      $(window).on('scroll', function() { if ($(this).scrollTop() < 50) { $('.topbutton') .fadeOut(); }
      else { $('.topbutton') .fadeIn();} 
      })
      $(".topbutton").on('click',function() { $('html ,body').animate({scrollTop : 0},"slow"); })
      $('.LinkList').each(function() {
        var itemA = $(this).find('ul > li').children('a');
          var list = itemA.length;
        for (var i = 0; i < list; i++) {
              var i1 = itemA.eq(i), t1 = i1.text();
              if (t1.charAt(0) !== '_') { 
                  var i2 = itemA.eq(i + 1);
                  var t2 = i2.text();
                  if (t2.charAt(0) === '_') {
                      var l1 = i1.parent();
                      //console.log(l1);
                      l1.append('<ul class="sub-menu m-sub"/>');
                  }
              }
              if (t1.charAt(0) === '_') {
                  i1.text(t1.replace('_', ''));
                  i1.parent().appendTo(l1.children('.sub-menu'));
          }
        }
        for (var i = 0; i < list; i++) {
          var i3 = itemA.eq(i),t3 = i3.text();
          if (t3.charAt(0) !== '_') {
                  var i4 = itemA.eq(i + 1);
                  var t4 = i4.text();
            if (t4.charAt(0) === '_') {
              var l2 = i3.parent();
                      l2.append('<ul class="sub-menu2 m-sub"/>');
                  }
          }
          if (t3.charAt(0) === '_') {
                  i3.text(t3.replace('_', ''));
                  i3.parent().appendTo(l2.children('.sub-menu2'));
              }
        }
        $('.LinkList ul li ul').parent('li').addClass('has-sub');
          $('#main-menu .widget').addClass('show-menu');
      });
      $('#main-menu-nav').clone().appendTo('.mobile-menu');
      $('.mobile-menu li.has-sub').append('<div class="submenu-toggle"/>');
      $('.menu-toggle').on('click', function() {
        $('body').toggleClass('nav-active');
      });   
      $('.mobile-menu ul li .submenu-toggle').on('click',function($this){
        console.log($this)
          if($(this).parent().hasClass('has-sub')){
            $this.preventDefault();
            if(!$(this).parent().hasClass('show')){
              $(this).parent().addClass('show').children('.m-sub').slideToggle(250);
            }else{
              $(this).parent().removeClass('show').find('>.m-sub').slideToggle(250);
            }
          }
      })
      $(".show-search").on('click',function() {
          $('#nav-search .search-form').toggleClass("active");
      })
      $('#main-wrapper, #sidebar-wrapper').each(function() {
        if (fixedSidebar == true) {
          $(this).theiaStickySidebar({
              additionalMarginTop: 35,
              additionalMarginBottom: 35
          });
        }
      })
      $('.banner .HTML .widget-content, .sidebar .HTML .widget-content, #footer .HTML .widget-content').each(function() {
        var t = $(this);  
        var e = (t.text().trim().toLowerCase())
        var	a =	e.split('/');  console.log(" e =" + e );
        var count = a[0], label=a[1], type=a[2];
        return Posts(t, e, count, label);
      })
      $(".Label a, .post-tag a").attr("href",function($this,href) {
        return href.replace(href,href + '?&max-results=' + postPerPage);
      })
      $(".author-profile .author-desc a, .profile-info  .profile-textblock a").each(function(){$(this).attr("target","_blank")}),

      $('#related-content').each(function() {
        var $this = $(this);  //console.log($this); 
        label = $this.find('.related-tag').data('label');
        Posts($this, 'related', 3, label); 
      })

      $('.post-nav').each(function() {
        var prev = $('a.blog-pager-newer-link').attr('href');
        $.ajax({
            url: prev,
              type: 'get',
              success: function(prev) {
            var oldtitle = $('a.blog-pager-newer-link').text();
                  var title = $(prev).find('.item-post h1.post-title').text();
            $('a.blog-pager-newer-link').html('<span>'+ oldtitle +'</span><p>' + title + '</p>');
              }
          });  
        var next = $('a.blog-pager-older-link').attr('href');
          $.ajax({
            url: next,
              type: 'get',
              success: function(next) {
            var oldtitle = $('a.blog-pager-older-link').text()
                var title = $(next).find('.item-post h1.post-title').text();  
                  $('a.blog-pager-older-link').html('<span>'+ oldtitle +'</span><p>' + title + '</p>');
              }
          });
      })

      $(".blog-post-comments").each(function() {
        var system = commentsSystem,
              fk = '<div class="fb-comments" data-width="100%" data-href="' + disqus_blogger_current_url + '" data-numposts="5"></div>',
              c = 'comments-system-' + system;
          if (system == 'blogger') {
                $(this).addClass(c).show();
          } else if (system == 'disqus') {
              (function() {
                var dsq = document.createElement('script');
                  dsq.type = 'text/javascript';
                  dsq.async = true;
                  dsq.src = '//' + disqusShortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();     
                $("#comments, #gpluscomments").remove(),
                $(this).append('<div id="disqus_thread"/>').addClass(c).show();    
          } else if (system == 'facebook') {
                $('#comments, #gpluscomments').remove();
                $(this).append(fk).addClass(c).show();    
          } else if (system == 'hide') {
                $(this).hide();
          } else {
              $(this).addClass('comments-system-default').show();
          } 
      })
      $('.post-body strike').each(function() { 
        var $this = $(this);
        var type = $this.text();
        if (type.match('left-sidebar')) {
                $this.replaceWith("<style>.item #content-wrapper { flex-direction: row-reverse}</style>");
          }
          if (type.match('right-sidebar')) {
              $this.replaceWith("<style>.item #content-wrapper { flex-direction: row}</style>");
          }
          if (type.match('full-width')) {
              $this.replaceWith("<style>.item #main-wrapper{width:100%} .item #sidebar-wrapper{display:none}</style>");
          }
      })
  </script>
    
   
  </body>
</html>