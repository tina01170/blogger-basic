<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js' type='text/javascript'></script> 
    <!--<link href='https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css' rel='stylesheet'></link>
    <link href='https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css' rel='stylesheet'></link>-->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js'></script> 
    <style>
      /*slider*/ 
      .owl-carousel,.owl-carousel .owl-item{-webkit-tap-highlight-color:transparent;position:relative}
      .owl-carousel{display:none;width:100%;z-index:1}
      .owl-carousel .owl-stage{position:relative;-ms-touch-action:pan-Y;touch-action:manipulation;-moz-backface-visibility:hidden}
      .owl-carousel .owl-stage:after{content:".";display:block;clear:both;visibility:hidden;line-height:0;height:0}
      .owl-carousel .owl-stage-outer{position:relative;overflow:hidden;-webkit-transform:translate3d(0,0,0)}
      .owl-carousel .owl-item,.owl-carousel .owl-wrapper{-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;-ms-backface-visibility:hidden;-webkit-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0)}
      .owl-carousel .owl-item{min-height:1px;float:left;-webkit-backface-visibility:hidden;-webkit-touch-callout:none}
      .owl-carousel .owl-item img{display:block;width:100%}
      .owl-carousel .owl-dots.disabled,.owl-carousel .owl-nav.disabled{display:none}
      .no-js .owl-carousel,.owl-carousel.owl-loaded{display:block}
      .owl-carousel .owl-dot,.owl-carousel .owl-nav .owl-next,.owl-carousel .owl-nav .owl-prev{cursor:pointer;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}

      .owl-carousel button.owl-dot{background:0 0;color:inherit;border:none;padding:0!important;font:inherit}
      .owl-carousel.owl-loading{opacity:0;display:block}
      .owl-carousel.owl-hidden{opacity:0}
      .owl-carousel.owl-refresh .owl-item{visibility:hidden}
      .owl-carousel.owl-drag .owl-item{-ms-touch-action:pan-y;touch-action:pan-y;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
      .owl-carousel.owl-grab{cursor:move;cursor:grab}
      .owl-carousel.owl-rtl{direction:rtl}
      .owl-carousel.owl-rtl .owl-item{float:right}
      .owl-carousel .animated{animation-duration:1s;animation-fill-mode:both}
      .owl-carousel .owl-animated-in{z-index:0}
      .owl-carousel .owl-animated-out{z-index:1}
      .owl-carousel .fadeOut{animation-name:fadeOut}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}
      .owl-height{transition:height .5s ease-in-out}
      .owl-carousel .owl-item .owl-lazy{opacity:0;transition:opacity .4s ease}
      .owl-carousel .owl-item .owl-lazy:not([src]),.owl-carousel .owl-item .owl-lazy[src^=""]{max-height:0}
      .owl-carousel .owl-item img.owl-lazy{transform-style:preserve-3d}
      /*
      .owl-theme .owl-dots,.owl-theme .owl-nav{text-align:center;-webkit-tap-highlight-color:transparent}
      .owl-theme .owl-nav{margin-top:10px}
      .owl-theme .owl-nav [class*=owl-]{color:#FFF;font-size:14px;margin:5px;padding:4px 7px;background:#D6D6D6;display:inline-block;cursor:pointer;border-radius:3px}
      .owl-theme .owl-nav [class*=owl-]:hover{background:#869791;color:#FFF;text-decoration:none}
      .owl-theme .owl-nav .disabled{opacity:.5;cursor:default}
      .owl-theme .owl-nav.disabled+.owl-dots{margin-top:10px}.owl-theme .owl-dots .owl-dot{display:inline-block;zoom:1}
      .owl-theme .owl-dots .owl-dot span{width:10px;height:10px;margin:5px 7px;background:#D6D6D6;display:block;-webkit-backface-visibility:visible;transition:opacity .2s ease;border-radius:30px}
      .owl-theme .owl-dots .owl-dot.active span,.owl-theme .owl-dots .owl-dot:hover span{background:#869791;  }
      */   
      
      .owl-nav .owl-prev, .owl-nav .owl-next { position: absolute; top:45%; border:none;font-size:28px; color:#fff; width: 40px; height: 40px; z-index:9; padding:0 !important; background:rgba(0,0,0,0.3); /*opacity:0;*/}
	  /*.owl-nav .owl-prev:hover, .owl-nav .owl-next:hover {opacity:1; }*/
      .owl-nav .owl-prev {left:0;}
      .owl-nav .owl-next {right:0;}

      .banner .show-slider{display:block!important; overflow:hidden;}
      .banner .widget{position:relative;padding:0}
      .slider-item { position:relative; width:100%; height:360px; overflow:hidden; }
      .slider-item .post-info { position:absolute;top:50%; left:20%; background:rgba(245,245,245,0.8);width:60%; text-align: center;padding:10px 0;z-index:9;}
      .slider-item .post-info h3 a { text-decoration:none; color:#000; font-size:18px; font-weight:700; display:block; margin:10px 0; }
      .slider-item .post-info .post-date { padding-left:3px; } 
   
   </style>
  </head>
  <body>
     <br>


      <script>
        function Posts($this, type, count, label) {
            //console.log($this, type, count, label);
            if (type.match('list') ||type.match('related')) {
                var url = '';
                if (label == 'recent') {
                  url = '/feeds/posts/default?alt=json-in-script&max-results=' + count;
                } else {
                  url = '/feeds/posts/default/-/' + label + '?alt=json-in-script&max-results=' + count;
                }
            
                $.ajax({
                      url: url,
                      type: 'get',
                      dataType: 'jsonp',
                      beforeSend:function() {
                          if (type.match('list')) {
                              $this.html('<div class="load"/>').parent().addClass('show-ify');
                          }
                      },
                      success: function(json) {
                          if (type.match('list')) {
                              var code = '<ul id="slider-wrap" class="owl-carousel owl-theme">';
                          } else if (type.match('related')) {
                              var code = '<ul class="related-posts">';
                          }
                          console.log(json);
                          var entry = json.feed.entry;
                          if (entry != undefined) {
                              for (var i = 0,feed = entry;i < entry.length; i++) {
                                  var link = p_link(feed,i);
                                  //console.log(link);
                                  var title = p_title(feed,i);
                                  //console.log(title);
                                  var date = p_date(feed, i);
                                  //console.log(date);
                                  var	image = p_Image(feed,i,title);
                                  //console.log(image);
                                  var tag = p_label(feed, i);
                                  //console.log(tag);

                                  var content = '';
                                  if (type.match('list')) {                            								
                                      content += '<li class="item">' + image + '<div class="post-info"><h3><a href="' + link + '">' + title +'</a></h3>'+ date +'</div></li>';
                                  } else if (type.match('related')) {
                                      content += '<li class="related-item">' + image + '<div class="post-info"><h3><a href="' + link + '">' + title + '</a></h3></div></li>';
                                  }                                               
                                      code += content;   
                              }						
                              code += '</ul>';
                          } else {
                              code = '<ul class="no-posts">Error: No Posts Found</ul>';
                          } if (type.match('list')) {
                              $this.html(code).parent().addClass('show-ify');			
                                $("#slider-wrap").owlCarousel({
                                    items: 2, // 一次輪播幾個項目
                                    loop: true, // 循環輪播
                                    margin: 25, // 與右邊圖片的距離
                                    nav: true, // 導航文字
                                    dots:false,

                                    autoplay: false, // 自動輪播
                                    autoplayTimeout: 1000, // 切換時間
                                    autoplayHoverPause: true // 滑鼠經過時暫停
                                })
                    
                          } else {
                              $this.html(code);
                          }
                      
                      }
                });
            }
        }
      </script>
    

    
   
  </body>
</html>