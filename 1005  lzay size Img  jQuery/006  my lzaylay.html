<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <style>
    img {
      width: 100%; /* 或設定固定寬度 */
      height: auto; /* 保持圖片比例 */
    }

    .post-thumb {display:block;position:relative;width:100%;height:100%;object-fit:cover;opacity: 0; transition:all 0.6s;}
    .post-thumb.lazy-lay {opacity: 1;}

    </style>
  </head>
  <body>
    <script type='text/javascript'>
    //<![CDATA[    
    $(function(a) {
        a.fn.lazylay = function() {
          return this.each(function() {
            var t = a(this),
              dImg = t.attr('src'),
              iWid = Math.round(t.width()),
              iHei = Math.round(t.height()),
              iSiz = 'w' + iWid + '-h' + iHei + '-p-k-no-nu',
              img = '';
            if(dImg.match('/s72-c')) {
              img = dImg.replace('/s72-c', '/' + iSiz);
            } else if(dImg.match('/w72-h')) {
              img = dImg.replace('/w72-h72-p-k-no-nu', '/' + iSiz);
            } else if(dImg.match('=w72-h')) {
              img = dImg.replace('=w72-h72-p-k-no-nu', '=' + iSiz);
            } else {
              img = dImg;
            }
            a(window).on('load resize scroll', smoothload);
      
            function smoothload() {
              var wHeight = a(window).height(),
                scrTop = a(window).scrollTop(),
                offTop = t.offset().top;
              if(scrTop + wHeight > offTop) {
                var n = new Image();
                n.onload = function() {
                  t.attr('src', '' + this.src + '').addClass('lazy-lay');
                }, n.src = img;
              }
            }
            smoothload();
          });
        }
      });
    //]]>
    </script>   
    

    
   
  </body>
</html>